using Nemerle.Collections;
using Nemerle.Xml;
using Nemerle.Extensions;
using Nemerle.ComputationExpressions;

using System;
using System.Linq;
using System.Console;
using System.Collections.Generic;
using System.Xml.Linq;

using NemerleWeb;

module Program
{
  Main() : void
  {
      def result = nweb Test();
      WriteLine(result);
      _ = Console.ReadKey();
  }
}

public class A
{}

[Unit]
public class Test[T]
{
  public this()
  {
    def var1 = 
        {
         (res : 
          {
            def rep(p)
            {
              if (p >= 5)
              {
                rep(p - 1)
              }
              else
                if (p < 0) -1 else 1
            }
            rep(5)
          })
        };
        
    var1 == 1      
  }
  
  [Html]
  public View() : string
  {
    <# <div></div> #>
  }
}